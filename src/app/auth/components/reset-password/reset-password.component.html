<main>
	<form-message></form-message>

	<div class="l-auth">
		<!-- OAuth Banner -->
		<oauth-banner></oauth-banner>

		<!-- Title Message -->
		<h3 class="l-auth-x-title title title-bold" id="heading-form">Enter a new password</h3>
		<p class="l-auth-x-text text text-quiet">Enter in your new password.</p>

		<!-- Reset Password Form -->
		<form class="l-form"
					aria-labelledby="heading-form"
					[formGroup]='changePasswordForm'
					(ngSubmit)="submitChange()"
					novalidate
		>
			<fieldset role="group" aria-labelledby="heading-forgotpassword">
				<legend class="visuallyhidden" id="heading-forgotpassword">Enter a new password</legend>
				<bg-formfield-text [control]="changePasswordForm.controls.password1"
													 [label]="'New Password'"
													 [errorMessage]="'Please enter a new password'"
													 fieldType="password"
													 [autofocus]="true">
					<span label-additions>(MUST BE AT LEAST 8 CHARACTERS)</span>
				</bg-formfield-text>

				<bg-formfield-text [control]="changePasswordForm.controls.password2"
													 [label]="'Confirm New Password'"
													 fieldType="password"
													 [errorMessage]="{ required: 'Please confirm your new password' }"
													 [errorGroup]="changePasswordForm">
				</bg-formfield-text>
			</fieldset>

			<div class="l-form-x-offset l-childrenhorizontal l-childrenhorizontal-right">
				<a class="button button-secondary"
					 [routerLink]="['/auth/login']"
					 [disabled-when-requesting]="true"
				>Cancel</a>

				<button class="button"
								type="submit"
								(click)="clickSubmit($event)"
								[loading-when-requesting]="true"
								loading-message="Changing Password"
				>Change Password</button>
			</div>
		</form>
	</div>
</main>
